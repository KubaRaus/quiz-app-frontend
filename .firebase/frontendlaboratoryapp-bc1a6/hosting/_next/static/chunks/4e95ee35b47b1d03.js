(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46530,e=>{"use strict";var r=e.i(9586),a=e.i(93968);e.i(85507);var t=e.i(49002),s=e.i(15546),i=e.i(96798);function o(){let[e,o]=(0,a.useState)(""),[n,d]=(0,a.useState)(""),[l,u]=(0,a.useState)(""),[c,m]=(0,a.useState)(""),[g,x]=(0,a.useState)(""),[h,b]=(0,a.useState)(!1),{user:w}=(0,s.useAuth)(),p=(0,i.useRouter)(),f=async r=>{if(r.preventDefault(),m(""),x(""),n!==l)return void m("Nowe hasła nie są zgodne");if(n.length<6)return void m("Nowe hasło musi mieć co najmniej 6 znaków");b(!0);try{let r=t.EmailAuthProvider.credential(w.email,e);await (0,t.reauthenticateWithCredential)(w,r),await (0,t.updatePassword)(w,n),x("Hasło zostało zmienione pomyślnie"),setTimeout(()=>{p.push("/user/profile")},2e3)}catch(e){"auth/wrong-password"===e.code?m("Nieprawidłowe obecne hasło"):m("Błąd zmiany hasła: "+e.message)}finally{b(!1)}};return(0,r.jsx)("section",{className:"text-gray-600 body-font",children:(0,r.jsx)("div",{className:"container px-5 py-24 mx-auto flex flex-wrap items-center justify-center",children:(0,r.jsxs)("div",{className:"lg:w-2/6 md:w-1/2 bg-gray-100 rounded-lg p-8 flex flex-col w-full mt-10 md:mt-0",children:[(0,r.jsx)("h2",{className:"text-gray-900 text-lg font-medium title-font mb-5",children:"Zmień hasło"}),c&&(0,r.jsx)("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:c}),g&&(0,r.jsx)("div",{className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:g}),(0,r.jsxs)("form",{onSubmit:f,children:[(0,r.jsxs)("div",{className:"relative mb-4",children:[(0,r.jsx)("label",{htmlFor:"currentPassword",className:"leading-7 text-sm text-gray-600",children:"Obecne hasło"}),(0,r.jsx)("input",{type:"password",id:"currentPassword",name:"currentPassword",value:e,onChange:e=>o(e.target.value),required:!0,className:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"})]}),(0,r.jsxs)("div",{className:"relative mb-4",children:[(0,r.jsx)("label",{htmlFor:"newPassword",className:"leading-7 text-sm text-gray-600",children:"Nowe hasło"}),(0,r.jsx)("input",{type:"password",id:"newPassword",name:"newPassword",value:n,onChange:e=>d(e.target.value),required:!0,className:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"})]}),(0,r.jsxs)("div",{className:"relative mb-4",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"leading-7 text-sm text-gray-600",children:"Potwierdź nowe hasło"}),(0,r.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:l,onChange:e=>u(e.target.value),required:!0,className:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"})]}),(0,r.jsx)("button",{type:"submit",disabled:h,className:"text-white bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg w-full disabled:opacity-50",children:h?"Zmieniam...":"Zmień hasło"})]})]})})})}e.s(["default",()=>o,"dynamic",0,"force-dynamic"])}]);