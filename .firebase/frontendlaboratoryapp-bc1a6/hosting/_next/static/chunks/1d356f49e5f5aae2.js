(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7964,e=>{"use strict";var a=e.i(9586);e.i(85507);var s=e.i(49002),t=e.i(15546),i=e.i(93968),r=e.i(96798),l=e.i(63566);function n(){let[e,n]=(0,i.useState)(""),[o,d]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[m,g]=(0,i.useState)(""),[x,h]=(0,i.useState)(!1),j=(0,r.useRouter)(),{user:f}=(0,t.useAuth)();if(f)return null;let p=(0,s.getAuth)();return(0,a.jsx)("section",{className:"text-gray-600 body-font",children:(0,a.jsxs)("div",{className:"container px-5 py-24 mx-auto flex flex-wrap items-center",children:[(0,a.jsxs)("div",{className:"lg:w-3/5 md:w-1/2 md:pr-16 lg:pr-0 pr-0",children:[(0,a.jsx)("h1",{className:"title-font font-medium text-3xl text-gray-900",children:"Dołącz do nas!"}),(0,a.jsx)("p",{className:"leading-relaxed mt-4",children:"Utwórz konto, aby tworzyć własne quizy i śledzić swoje postępy."})]}),(0,a.jsxs)("div",{className:"lg:w-2/6 md:w-1/2 bg-gray-100 rounded-lg p-8 flex flex-col md:ml-auto w-full mt-10 md:mt-0",children:[(0,a.jsx)("h2",{className:"text-gray-900 text-lg font-medium title-font mb-5",children:"Rejestracja"}),m&&(0,a.jsx)("div",{role:"alert",className:"mb-4 bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Błąd rejestracji"}),(0,a.jsx)("p",{className:"text-sm",children:m})]})]})}),(0,a.jsxs)("form",{onSubmit:a=>{(a.preventDefault(),g(""),o!==c)?g("Hasła nie są zgodne"):o.length<6?g("Hasło musi mieć co najmniej 6 znaków"):(h(!0),(0,s.createUserWithEmailAndPassword)(p,e,o).then(e=>{console.log("User registered!"),(0,s.sendEmailVerification)(p.currentUser).then(()=>{console.log("Email verification sent!"),j.push("/user/verify")}).catch(e=>{g("Błąd wysyłania emaila weryfikacyjnego: "+e.message),console.dir(e)})}).catch(e=>{let a=e.code,s=e.message;"auth/email-already-in-use"===a?g("Ten adres email jest już zarejestrowany. Użyj innego adresu lub zaloguj się."):"auth/invalid-email"===a?g("Nieprawidłowy format adresu email"):"auth/weak-password"===a?g("Hasło jest za słabe. Użyj co najmniej 6 znaków."):g(s),console.dir(e)}).finally(()=>{h(!1)}))},children:[(0,a.jsxs)("div",{className:"relative mb-4",children:[(0,a.jsx)("label",{htmlFor:"email",className:"leading-7 text-sm text-gray-600",children:"Email"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",value:e,onChange:e=>n(e.target.value),required:!0,className:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"})]}),(0,a.jsxs)("div",{className:"relative mb-4",children:[(0,a.jsx)("label",{htmlFor:"password",className:"leading-7 text-sm text-gray-600",children:"Hasło"}),(0,a.jsx)("input",{type:"password",id:"password",name:"password",value:o,onChange:e=>d(e.target.value),required:!0,className:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"})]}),(0,a.jsxs)("div",{className:"relative mb-4",children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"leading-7 text-sm text-gray-600",children:"Potwierdź hasło"}),(0,a.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:c,onChange:e=>u(e.target.value),required:!0,className:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"})]}),(0,a.jsx)("button",{type:"submit",disabled:x,className:"text-white bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg w-full disabled:opacity-50",children:x?"Rejestracja...":"Zarejestruj się"})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-3",children:["Masz już konto?"," ",(0,a.jsx)(l.default,{href:"/user/signin",className:"text-indigo-500 hover:text-indigo-600",children:"Zaloguj się"})]})]})]})})}e.s(["default",()=>n])}]);