(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86455,e=>{"use strict";var a=e.i(9586),s=e.i(93968);e.i(85507);var i=e.i(49002),t=e.i(34391),l=e.i(96798),r=e.i(63566),n=e.i(15546);function o(){let[e,o]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[c,m]=(0,s.useState)(""),[x,h]=(0,s.useState)(!1),g=(0,l.useRouter)(),p=(0,l.useSearchParams)(),{user:f}=(0,n.useAuth)(),w=p.get("returnUrl");return((0,s.useEffect)(()=>{f&&(w?g.push(w):g.push("/"))},[f,w,g]),f)?null:(0,a.jsx)("section",{className:"text-gray-600 body-font",children:(0,a.jsxs)("div",{className:"container px-5 py-24 mx-auto flex flex-wrap items-center",children:[(0,a.jsxs)("div",{className:"lg:w-3/5 md:w-1/2 md:pr-16 lg:pr-0 pr-0",children:[(0,a.jsx)("h1",{className:"title-font font-medium text-3xl text-gray-900",children:"Witaj ponownie!"}),(0,a.jsx)("p",{className:"leading-relaxed mt-4",children:"Zaloguj się, aby uzyskać dostęp do swoich quizów i wyników."})]}),(0,a.jsxs)("div",{className:"lg:w-2/6 md:w-1/2 bg-gray-100 rounded-lg p-8 flex flex-col md:ml-auto w-full mt-10 md:mt-0",children:[(0,a.jsx)("h2",{className:"text-gray-900 text-lg font-medium title-font mb-5",children:"Zaloguj się"}),c&&(0,a.jsx)("div",{role:"alert",className:"mb-4 bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Błąd logowania"}),(0,a.jsx)("p",{className:"text-sm",children:c})]})]})}),(0,a.jsxs)("form",{onSubmit:a=>{a.preventDefault(),m(""),h(!0),(0,i.setPersistence)(t.auth,i.browserSessionPersistence).then(()=>(0,i.signInWithEmailAndPassword)(t.auth,e,d)).then(e=>{w?g.push(w):g.push("/")}).catch(e=>{let a=e.code,s=e.message;"auth/invalid-credential"===a?m("Nieprawidłowy email lub hasło"):"auth/user-not-found"===a?m("Nie znaleziono użytkownika z tym adresem email"):"auth/wrong-password"===a?m("Nieprawidłowe hasło"):"auth/invalid-email"===a?m("Nieprawidłowy format adresu email"):m(`Błąd logowania: ${s}`)}).finally(()=>{h(!1)})},children:[(0,a.jsxs)("div",{className:"relative mb-4",children:[(0,a.jsx)("label",{htmlFor:"email",className:"leading-7 text-sm text-gray-600",children:"Email"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",value:e,onChange:e=>o(e.target.value),required:!0,className:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"})]}),(0,a.jsxs)("div",{className:"relative mb-4",children:[(0,a.jsx)("label",{htmlFor:"password",className:"leading-7 text-sm text-gray-600",children:"Hasło"}),(0,a.jsx)("input",{type:"password",id:"password",name:"password",value:d,onChange:e=>u(e.target.value),required:!0,className:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"})]}),(0,a.jsx)("button",{type:"submit",disabled:x,className:"text-white bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg w-full disabled:opacity-50",children:x?"Logowanie...":"Zaloguj"})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-3",children:["Nie masz konta?"," ",(0,a.jsx)(r.default,{href:"/user/register",className:"text-indigo-500 hover:text-indigo-600",children:"Zarejestruj się"})]})]})]})})}function d(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("div",{children:"Ładowanie..."}),children:(0,a.jsx)(o,{})})}e.s(["default",()=>d,"dynamic",0,"force-dynamic"])}]);